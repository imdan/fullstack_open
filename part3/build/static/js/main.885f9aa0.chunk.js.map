{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","PersonForm","handleSubmit","nameValue","numberValue","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleClick","name","number","onClick","window","confirm","id","Persons","persons","map","key","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","success","msg","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","showAll","setShowAll","notification","setNotification","useEffect","personService","initialPersons","personsToShow","toLowerCase","includes","event","target","preventDefault","nameObject","changedPerson","find","changedNumber","setTimeout","catch","error","console","concat","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.885f9aa0.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ value, handleChange }) => {\n  return (\n    <div>\n      filter shown with: <input value={value} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n  handleSubmit,\n  nameValue,\n  numberValue,\n  handleNameChange,\n  handleNumberChange\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={nameValue} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={numberValue} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({ person, handleClick }) => {\n  return (\n    <div>\n      {person.name} {person.number}{' '}\n      <button\n        onClick={() => {\n          if (window.confirm(`Delete ${person.name}?`)) {\n            handleClick(person.id);\n          }\n        }}>\n        delete\n      </button>\n    </div>\n  );\n};\n\nconst Persons = ({ persons, handleClick }) => {\n  return (\n    <div>\n      {persons.map(person => (\n        <Person person={person} key={person.name} handleClick={handleClick} />\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const response = axios.get(baseUrl);\n  return response.then(response => response.data);\n};\n\nconst create = newObject => {\n  const response = axios.post(baseUrl, newObject);\n  return response.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const response = axios.put(`${baseUrl}/${id}`, newObject);\n  return response.then(response => response.data);\n};\n\nconst destroy = id => {\n  const response = axios.delete(`${baseUrl}/${id}`);\n  return response.then(response => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  destroy,\n  update\n};\n","import React from 'react';\n\nconst Notification = ({ value }) => {\n  if (value === null) {\n    return <div></div>;\n  }\n\n  const { success, msg } = value;\n\n  if (success === true) {\n    return <div className='msg success'>{msg}</div>;\n  }\n\n  return <div className='msg err'>{msg}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [showAll, setShowAll] = useState(true);\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNewName = event => setNewName(event.target.value);\n  const handleNewNumber = event => setNewNumber(event.target.value);\n\n  const addName = event => {\n    event.preventDefault();\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    const namesArr = persons.map(person => person.name);\n\n    if (namesArr.includes(newName)) {\n      // alert(`${newName} has already been added to phonebook!`);\n      if (\n        window.confirm(\n          `${newName} has already been added, replace old number with a new one?`\n        )\n      ) {\n        const changedPerson = persons.find(person => person.name === newName);\n        const changedNumber = { ...changedPerson, number: nameObject.number };\n\n        personService\n          .update(changedPerson.id, changedNumber)\n          .then(response => {\n            setPersons(\n              persons.map(person =>\n                person.id !== changedPerson.id ? person : response\n              )\n            );\n            setNotification({\n              success: true,\n              msg: `${changedNumber.name} has been updated`\n            });\n            setTimeout(() => setNotification(null), 4000);\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(error => {\n            console.error(error);\n            setNotification({\n              success: false,\n              msg: `Information for ${nameObject.name} has already been removed from the server`\n            });\n            setTimeout(() => setNotification(null), 4000);\n          });\n      }\n    } else {\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response));\n          setNotification({\n            success: true,\n            msg: `${nameObject.name} has been added`\n          });\n          setTimeout(() => setNotification(null), 4000);\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          console.log(error.response.data);\n          setNotification({\n            success: false,\n            msg: `${error.response.data.error}`\n          });\n          setTimeout(() => setNotification(null), 4000);\n        });\n    }\n  };\n\n  const deleteName = id => {\n    personService.destroy(id).then(() => {\n      setPersons(persons.filter(person => person.id !== id));\n    });\n  };\n\n  const handleFilter = event => {\n    if (event.target.value === '') {\n      setFilter('');\n      setShowAll(true);\n    } else {\n      setFilter(event.target.value);\n      setShowAll(false);\n    }\n  };\n\n  const personsToShow = showAll\n    ? persons\n    : persons.filter(person =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification value={notification} />\n      <Filter value={filter} handleChange={handleFilter} />\n\n      <h3>add new number</h3>\n      <PersonForm\n        handleSubmit={addName}\n        nameValue={newName}\n        handleNameChange={handleNewName}\n        numberValue={newNumber}\n        handleNumberChange={handleNewNumber}\n      />\n\n      <h3>numbers</h3>\n      <Persons persons={personsToShow} handleClick={deleteName} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}